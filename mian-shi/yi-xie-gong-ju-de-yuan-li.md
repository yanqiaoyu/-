# 一些工具的原理

## 1. Fiddler原理

Fiddler的工作原理与中间人攻击非常类似，Fiddler是客户端与服务端中间的一层代理

客户端发送给服务端的HTTP或者HTTPS请求，其实是发给了Fiddler，而Fiddler，接受了这个请求并伪装成了客户端的请求发送给了服务器。

## 2.说说Selenium的原理

首先，我认为selenium在进行自动化测试时，分为3个部分

脚本，webdriver，浏览器

我们在脚本里实例化了WebDriver之后，WebDriver会在目标浏览器内启动一套WebService，用以对浏览器进行我们想要的各种操作

当我们打开浏览器之后，会返回一个sessionID，这个sessionID是每次打开浏览器都不同的，主要目的是保证多线程并行执行时不会互相干扰。

最后我们通过JSON Wire Protocol进行指令的发送，以及获取命令执行的结果，保证了对于不同的语言的兼容性

## 3.说说UIAutomator的原理？

## 4.自动化测试元素定位不到的原因？ 程序员如何优化页面加载不出来？

定位不到元素的原因主要有：

1. 页面使用了frame/iframe的表单嵌套，导致无法定位
2. 页面弹出了警告框或者跳转到了新的页面
3. 定位语句出现问题，比如使用了Xpath定位一些动态元素
4. 元素还未加完成就进行了定位
5. 元素被遮挡不可见

优化的办法：

1. 对于iframe表单而言，先switch\_to\_frame,再定位这个frame里面的元素
2. 对于新增加的窗口，先switch\_to\_window来切到新的窗口
3. 对于弹出的一些警告框，使用switch\_to\_alert来定位
4. 对于一些语句出现异常的问题，尽量先向上找到一个唯一标示的属性，再往下通过XPath定位
5. 对于还未加载完全就进行了操作的情况，尽量多使用显示或者隐式等待，并加上断言，来判断元素加载完全
6. 对于元素被遮挡，可以先用is\_dispaly来判断，如果确实是页面布局不合理，建议给研发提BUG，让他们修改
7. 有一些需要往下拖才能显示的元素，可以使用excute\_javascripts\(\)的方法，来操纵滚动条







