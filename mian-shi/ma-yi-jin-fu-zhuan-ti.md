# 蚂蚁金服专题

## 测试环境如何与线上环境保持一致？

建议分成3个方面来回答

* 硬件环境要保持一致，比方说机房里面服务器、交换机相关的参数应当保持一致
* 软件环境也要保持一致，提测软件的版本应当与上线的软件版本一致，操作系统、数据库等相关的陪测软件的版本、配置也要保持一致
* 使用场景一致，尽量与用户真实的使用场景保持一致

## 自动化测试需要关注什么？

个人认为

1. 确定好自动化测试的范围：举一个例子，有一个针对我们的UI界面做自动化的时候，没必要针对每一个UI元素做自动化，因为这样会很繁琐，维护起来成本也很高，可能我们挑几个关键的文本或者Text做断言处理就行了
2. 确定好自动化测试的工具：我们一开始的技术栈其实是UIAutomator2的，但是写起来比较复杂，那我就引入了个Airtest，帮助一些不擅长写代码的同事降低工作难度
3. 关注代码的复用性：尽量编写一些复用性高的代码，方便自己或者其他同事去调用的代码，而不是写一些只能用一次的，那还不如手动测试
4. 不要试图针对所有测试项做自动化测试，主要还是面向那些，风险小的，重复性高的来做，这样意义比较大

## 背包算法

```python
n, v = map(int, input().split())
goods = []
for i in range(n):
    goods.append([int(i) for i in input().split()])

# 初始化，先全部赋值为0，这样至少体积为0或者不选任何物品的时候是满足要求  
dp = [[0 for i in range(v+1)] for j in range(n+1)]

for i in range(1, n+1):
    for j in range(1,v+1):
        dp[i][j] = dp[i-1][j]  # 第i个物品不选
        if j>=goods[i-1][0]:# 判断背包容量是不是大于第i件物品的体积
            # 在选和不选的情况中选出最大值
            dp[i][j] = max(dp[i][j], dp[i-1][j-goods[i-1][0]]+goods[i-1][1])


print(dp[-1][-1])
```

## 高并发场景-订单库存防止超卖

1. 前端限制抢购人数，只留给部分人抢购的权限
   1. 使用缓存，把商品放到缓存里进行操作



