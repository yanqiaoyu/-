# 测试用例设计

## 用例设计应该考虑什么问题？

* 功能测试（最重要）
* 文档测试
* UI测试
* 接口测试
* 性能测试（压力、负载）
* 安全测试
* 稳定性测试（Monkey、遍历测试等）
* 异常测试（断网/弱网）
* 兼容性测试（安卓、IOS系统版本以及APP新老版本）
* 易用性测试
* 可用性测试
* 配置测试



## 1.给定一个字符串，怎么判断是不是ip地址？手写这段代码，并写出测试用例？

```python
class Solution:
    def validate_IPv4(self, IP: str) -> str:
        nums = IP.split('.')
        for x in nums:
            # Validate integer in range (0, 255):
            # 1. length of chunk is between 1 and 3
            if len(x) == 0 or len(x) > 3:
                return "Neither"
            # 2. no extra leading zeros
            # 3. only digits are allowed
            # 4. less than 255
            if x[0] == '0' and len(x) != 1 or not x.isdigit() or int(x) > 255:
                return "Neither"
        return "IPv4"
```

通过 . 把字符串分割，然后判断

1. 长度在1到3之间
2. 当长度不为1时，开头不能是0
3. 必须是数字
4. 数字的大小不能大于255

通过  等价类划分（通过选定合适的数据代表一个数据合集，来降低测试的数目并进行合理的覆盖）

A类 B类 C类 私有地址 组播地址 广播地址 非法地址

## 2.登录界面的测试



1. **功能**测试
   * 正常流程（正确账号密码，点击提交，验证能否正确登陆）
   * 异常流程（错误的账号密码，点击提交，验证登陆失败，并提示相应错误信息）
   * 登陆成功后能否正确跳转
   * 用户名和密码，太短或太长的处理（边界值法）
   * 用户名和密码，有特殊字符（比如空格）及其他非英文的情况
   * 记住用户名，记住密码
   * 登陆失败后，不记录密码
   * 用户名和密码前后有空格的处理
   * 密码是否是密文显示，使用“\*”号或圆点等符号代替
   * 验证码的辨认难度，考虑颜色（色盲使用者），刷新或换一个按钮是否好用
   * 输入密码时，大写键盘开启时是否有提示信息
   * 什么都不输入，点击提交按钮，检查提示信息
   * 登陆token测试
2. **UI**测试
   * 布局是否合理，按钮和表单是否整齐
   * 按钮和表单高度和长度是否符合要求
   * 界面风格是否符合UI设计稿
   * 文字有无错别字
3. **性能**测试
   * 打开登陆页面，需要的时间是否在需求要求的时间内
   * 输入正确的账号密码，点击登陆，是否在需求时间内跳转成功
   * 模拟大量用户同时登陆，检查一定压力下能否正常跳转
4. **安全性**测试
   * 用户名或密码是否是通过加密方式，发送给后端服务器
   * 用户名和密码应该在前端和后端做双重验证
   * 防止CSRF攻击，是否存在token
   * 用户名和密码的输入框，应该屏蔽SQL注入攻击
   * 用户名和密码的输入框，应该禁止输入脚本（防止xss攻击）
   * 防止暴力破解，检测是否有错误登陆的次数限制
   * 是否支持多用户在同一机器上登陆
   * 同一用户能否在多台机器上登陆
5. **可用性**测试
   * 是否可以用全键盘操作，是否有快捷键
   * 输入用户名，密码后按回车，是否可以登陆
   * 输入框是否可以Tab切换
6. **兼容性**测试
   * 不同浏览器下能否显示正常，且功能正常（IE,6,7,8,9,10,11,Firefox,Chrome,Safari）等
   * 同种浏览器下不同版本能否显示正常且功能正常
   * 不同的操作系统是否能正常工作（Windows, Mac）
   * 移动设备上是否正常工作（iOS，Android）
7. **本地化**测试
   * 不同语言环境下，页面的显示是否正确

## 3.电梯测试

1. 功能：上升、下降、停止、开门、关门、梯内电话、灯光、指示灯，监控等；
2. 性能：速度、反应时间、关门时间等；
3. 压力：超载、尖锐物碰撞电梯壁等；
4. 安全：停电、报警装置、轿箱停靠位置、有人扒门时的情况等；
5. 可用性：按键高度、操作是否方便、舒适程度，是否是就近原则停靠等；
6. UI：美观程度、光滑程度、形状、质感等；
7. 稳定性：长时间运行情况等；
8. 兼容性：不同电压是否可工作、不同类型电话是否可安装等。
9. 异常场景： 突然停电时的情况、障碍物阻挡、
10. 交互测试： 多次点击同一楼层号码、与其他电梯之间是否协作良好、同时按关门和开门按钮、电梯运行期间上人下人再按新的楼层等
11. 优化点：比如电梯按钮的设计是否符合一般人的习惯，按钮颜色关门后是否清晰可见数字等等

## 4.聊天系统

1. 功能测试
   * 用户端
     * 登陆状态下正常发送消息
     * 未登录状态下发送消息，会提示去登陆
     * 输入框发消息测试（过长、过短、表情、图片、视频、语音、英文、数字、url、卡片、红包、位置等）
     * 接收消息测试
     * 消息顺序（不乱序/不重复/不错误/不丢失）
     * 历史消息
     * 未读消息提醒（小红点显隐、未读消息数）
     * 用户头像点击
     * 自动回复选项点击
     * 长按消息（复制/转发/删除/撤回/引用）
     * 一键跳转到最新消息
     * push消息查看
   * 客服端
     * 正常回复消息
     * 输入框发消息测试（过长、过短、表情、图片、视频、语音、英文、数字、url、卡片、红包、位置等）
     * 接收消息测试
     * 消息顺序（不乱序/不重复/不错误/不丢失）（可以写脚本发送数字报数，测试消息顺序）
     * 历史消息
     * 未读消息提醒（小红点显隐、未读消息数）
     * 自动回复设置
     * 用户头像点击，用户信息采集
     * 长按消息（复制/转发/删除/撤回/引用）
     * 一键跳转到最新消息
     * 消息群发（有可能也没有此功能）
     * 发送push消息
2. 接口测试
   * 发送消息接口（msg\_type、msg\_content、埋点测试、extra\_content）
   * RPC接口调用
   * 消息队列（排序/队列长度/数据格式）
3. 性能测试
   * 模拟多用户同时向单用户发消息
   * 模拟单用户同时向多用户发消息
   * 1s内发送多条消息
   * 同一聊天室内，1s内接收多条消息，端上应有消息延迟展示策略
4. 兼容性测试
   * 跨平台跨系统登陆接收消息并展示
   * 多端登陆同一个账号，接收别人发来的消息（若支持多端登陆）
   * 多端登陆同一个账号，一端发送消息，自己的消息在别的端的展示情况（若支持多端登陆）
5. 异常测试
   * 断网/弱网情况下发送消息
   * 输入框输入sql、脚本等
   * 是否有黄反策略或对涉及国家安全、法律禁止的内容是否进行过滤和控制

## 5.列表页（贝壳找房）进行测试

1. 功能测试
   * 列表排序
   * 列表翻页
   * 列表筛选
   * 列表少结果、无结果、多结果的页面展示
   * 检索系统、推荐系统、商业化（广告）测试
   * 回到顶端浮标
   * 列表卡片跳转
   * 列表卡片UI展示（价格、标题、描述、标签等）
   * 上滑加载更多
   * 下拉刷新列表
   * 其他（浮标按钮等）
2. 性能测试
   * 压力测试
   * 负载测试
   * 大数据量返回的表现（一般后端会做翻页）
   * 页面响应时间测试
3. 兼容性
   * 浏览器兼容性
   * PC端操作系统兼容性（Mac、Windows）
   * 移动端操作系统兼容性（iOS、Andorid）
   * 弱网/无网显示
4. 埋点测试
   * 曝光埋点
   * 点击埋点
   * pv/uv统计

## 6.如何对搜索框（贝壳找房）进行测试

1. 功能测试
   * 输入关键字，查看返回结果是否准确
     * 查询有结果（多）的展示
     * 查询无结果的展示
     * 查询少结果的展示
   * 输入框测试：输入特殊内容，过长/过短的关键词，关键词输入
     * 正常：楼盘、地区、街道、公司、城市、地铁沿线、商圈等关键词。
     * 异常：空格及其他特殊字符、代码等
   * 热门关键词搜索测试（需要结合CMS后台测试）
   * sug动态搜索测试
   * 商业化（广告）相关测试
   * 搜素出来的楼盘结果列表：排序、翻页、是否列表去重
   * 搜索历史功能测试
   * 检索系统和推荐系统的测试
   * 结果跳转（跳转到详情页、跳转到列表页）
2. 性能测试
   * sug耗时
   * 点击搜索结果，渲染结果列表耗时
   * 压力测试，不同用户数压力下的表现
   * 负载测试，看极限能承受多大的用户量同时正常使用
   * 大数据量返回的表现（一般后端会做翻页）
3. 易用性
   * 功能是否易用，输入法调起是否正常，按钮可点击区域是否满足易用性
   * 针对不同，是否有友好的提醒
   * 搜索结果的楼盘卡片是否显示合理（价格、标题、描述等）
   * 搜索结果是否准确，排序是否合理
   * 控件设计是否符合APP整体设计风格（比如APP主题色是绿色，输入框控件UI风格是红色的，就会觉得有点。。）
4. 兼容性
   * 浏览器兼容性
   * PC端操作系统兼容性（Mac、Windows）
   * 移动端操作系统兼容性（iOS、Andorid）
   * 杀毒软件、防火墙、不同输入法等工具共同使用，是否适配
5. 安全性
   * 表单不允许被SQL注入（录入一些数据库查询的保留字符，如单引号，%等）
   * 是否有反爬策略
   * 是否有黄反策略或对涉及国家安全、法律禁止的内容是否进行过滤和控制

## 7.长视频测试

1. 功能测试：
   * 视频能够正常播放
   * 会员特权（购买、有效期、行使特权）
   * 播放组件（点播播放器、直播播放器、缓存视频播放器）
     * 视频清晰度转换（手动、自动）
     * 全屏/缩放；横屏/竖屏；锁屏
     * 播放/暂停/下一集
     * 进度条（快进、快退、锚点播放）
     * 亮度
     * 声音
     * 弹幕
     * 缓存
     * 投屏
     * 选集
     * 倍速播放
     * 断点续播
     * 视频水印
     * 返回键
     * 分享/收藏（看单）
     * 投屏
     * 睡眠模式
   * 商业化（广告）
     * 片前广告/片中广告/片尾广告
     * 暂停广告弹窗
     * VIP跳过广告
     * 广告倒计时自动关闭
2. 性能测试：
   * 清晰度测试（4K、蓝光、超清、高清、标清、畅请），测试固定码率播放以及切换码率播放
   * 负载测试（最大同时拉流数）
   * 网络测试（wifi、5G/4G/3G、弱网、断网）
   * 首屏加载时间
   * 长时间运行
     * 耗电量
     * 内存是否有泄漏
     * CPU状况
     * 是否有丢帧
3. 安全测试：
   * 视频流地址加密
   * 视频水印
   * 会员接口不对外暴露
   * 防止去广告脚本攻击
   * 缓存视频加密
4. 异常测试：
   * 弱网/断网等异常测试
   * 码率切换测试
   * 频繁切换前后台
5. 兼容性测试
   * 移动端兼容性（Android、iOS）
   * PC端兼容性（Mac/Windows）
   * 浏览器兼容性（IE/Chrome/Firefox/Safari）
   * TV端（电视盒子、投影仪等）

## 8.短视频APP（抖音）进行测试

1. 功能测试：
   * 刷抖音
     * feed流交互
     * 视频清晰度
     * 点赞（点赞数）、双击点赞
     * 视频暂停/播放测试
     * 评论（评论数/查看评论/发表评论）
     * 分享转发
     * 同款音乐
     * 用户个人主页
     * 搜索测试（热搜/话题功能）
     * 视频信息（标题/描述/音乐/标签）
   * 拍抖音
     * 调起摄像头
     * 视频拍摄/本地视频
     * 视频剪辑功能测试
     * 选择音乐功能测试
     * 道具/表情/滤镜
     * 发布短视频测试
   * 商业化
     * 广告植入（跳过广告）
     * 抖音商城
2. 性能测试：
   * 视频质量（码流/帧率/不卡顿）
   * 网络测试（wifi、5G/4G/3G、弱网、断网）
   * 服务器负载测试
   * 服务器压力测试
   * 长时间运行
     * 耗电量
     * 内存是否泄漏
     * CPU状况
3. 安全测试：
   * 视频链接加密
   * 视频防止去水印
   * 视频反爬
4. 异常测试：
   * 弱网/断网等异常测试
   * 码率切换测试
   * 破坏性点击（疯狂点击点赞/取消点赞按钮）
   * 切换前后台
5. 兼容性测试
   * 移动端系统兼容性（Android、iOS）
   * 应用权限测试
6. 安装/卸载测试

## 9.微信点赞用例设计

**【UI】**  
①、点击操作栏，是否正常弹出气泡，是否正常收回、是否流畅  
②、样式是否与需求保持一致  
③、未赞时，点击【点赞】，样式变为已赞  
④、已赞时，点击【取消】，样式变为未赞

【功能】  
①、给某一朋友的朋友圈进行点赞（检查接口）  
&gt;&gt;点赞数+1，点赞栏显示具体点赞用户的昵称  
&gt;&gt;被赞人的消息中心新增一条点赞消息，消息体显示是否正常  
&gt;&gt;共同好友视角，点赞栏显示该用户昵称  
&gt;&gt;非共同好友视角，点赞栏不显示该用户昵称  
&gt;&gt;点击点赞栏昵称跳转至该用户用户信息页面  
&gt;&gt;数据库写入是否正常

  
②、多人给某一朋友的朋友圈进行点赞  
&gt;&gt;点赞数+N。被赞人的消息中心收到多条点赞信息，消息体是否显示正常  
&gt;&gt;自己已赞过该朋友圈，N个点赞中，有M个是共同好友，自己的消息中心收到M条点赞消息  
&gt;&gt;自己未赞过该朋友圈，N个点赞中，有M个是共同好友，自己的消息中心不收到点赞消息  
&gt;&gt;自己已赞过该朋友圈，后取消点赞，自己的消息中心不再收到来自该条朋友圈的点赞消息  
&gt;&gt;点赞栏显示N个用户的昵称，并用顿号分割，且按照点赞时间降序排列  
&gt;&gt;N个用户全部取消赞后，是否同步  
&gt;&gt;数据库写入是否正常

②、给自己的朋友圈进行点赞（检查接口）  
&gt;&gt;点赞数+1，自己不收到信息  
&gt;&gt;点赞栏显示自己的昵称

④、取消点赞  
&gt;&gt;点赞数-1，点赞栏该用户的昵称消失，昵称展示左移  
&gt;&gt;被赞人的消息中心不会发送取消赞消息

⑤、反复点赞：点赞--&gt;取消点赞--&gt;点赞  
&gt;&gt;点赞数+1，点赞栏正常展示用户昵称，不会重复显示  
&gt;&gt;消息中心不会重新发送点赞通知

⑥、朋友圈下拉刷新，点赞栏刷新（接口）

⑦、消息中心加载（分页加载是否正常）

⑧、从消息中心进入朋友圈详情

&gt;&gt;点赞栏显示的是用户头像

&gt;&gt;操作点赞、取消赞、点击用户头像等操作

⑨、查看别人的朋友圈，点开大图

&gt;&gt;已赞过，左下角已赞样式+文字

&gt;&gt;未赞，左下角未赞样式+文字

&gt;&gt;点赞/取消点赞操作，右下角点赞数+1/-1

&gt;&gt;各个视角点赞数同步

  
【异常】  
①、给某一朋友的朋友圈点赞后，昵称变更，点赞栏的昵称是否同步变更  
②、点赞人数过多时，点赞栏的昵称最多展示多少，超过如何展示  
③、昵称中含有特殊字符时，如&lt;，'等时，是否展示异常  
④、弱网时，反复点击点赞按钮，数据库是否有redis控制（事务）  
⑤、当前页面，朋友圈已被删除，点击【点赞】或【取消赞】，客户端是否合理反馈  
⑥、模拟弱网，是否正常点赞，响应时间  
⑦、断网，点赞  
  


【兼容】  
①、android、ios  
②、不同android机型、分辨率、系统兼容  
  


【压力】  
①、多人点赞边界，检查一条朋友圈最多可以有多少点赞（接口模拟），手动模拟  
②、模拟多人同时点赞



